statloop_function() {
  statstr=(OK WARNING CRITICAL UNKNOWN)
  random=$$$(date +%s)
  randomstr=${statstr[$random % ${#statstr[@]}]}
}
statloop_function
while [ $randomstr == "CRITICAL" ]
do
  statloop_function
done

while [ true ]
do
  statloop_function 
  if [ $randomstr != "CRITICAL" ]
  then
    i=1
    limit=5

    while [ $i -le $limit ]
    do
      echo $randomstr
      sleep 1
      let i++
    done

  else
    while [ true ]
    do
      echo $randomstr
      sleep 3
    done
  fi

done
